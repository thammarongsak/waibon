<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>üóÇÔ∏è ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü‡∏•‡πå | ‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô</title>
    <style>
        body { font-family: sans-serif; padding: 2rem; background-color: #f9f9f9; }
        h1 { color: #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
        th, td { padding: 0.75rem; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #e0e0e0; }
        tr:hover { background-color: #f1f1f1; }
        .group-header { background-color: #cce5ff; font-weight: bold; padding: 0.5rem; margin-top: 2rem; }
        .btn { padding: 0.6rem 1.2rem; background-color: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer; margin-top: 1rem; }
        .btn:hover { background-color: #0056b3; }
        input[type="checkbox"] { transform: scale(1.3); margin-right: 0.6rem; }
        .file-icon { font-size: 1.2rem; margin-right: 0.5rem; }
    </style>
</head>
<body>
    <h1>üóÇÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ß‡πâ</h1>

{% if analyze_results %}
  <div style="background:#e0ffe0; padding:12px; border:1px solid #ccc; margin-bottom:16px;">
    <h3>üìä ‡∏ú‡∏•‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</h3>
    <ul>
      {% for msg in analyze_results %}
        <li>{{ msg }}</li>
      {% endfor %}
    </ul>
  </div>
{% endif %}
    
 <!-- üîç ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å -->
    <form method="POST" action="/analyze_selected">
        {% for group, files in grouped_files.items() %}
            <div class="group-header">{{ group }}</div>
            <table>
                <tr>
                    <th>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</th>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</th>
                    <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                    <th>‡∏Ç‡∏ô‡∏≤‡∏î</th>
                    <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</th>
                </tr>
                {% for file in files %}
                <tr>
                    <td><input type="checkbox" name="selected_files" value="{{ file.name }}"></td>
                    <td><span class="file-icon">üìÑ</span>{{ file.name }}</td>
                    <td>{{ file.type }}</td>
                    <td>{{ file.size }}</td>
                    <td>{{ file.date }}</td>
                </tr>
                {% endfor %}
            </table>
        {% endfor %}

        <button type="submit" class="btn">üöÄ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
    </form>
    <!-- üóëÔ∏è ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å -->
    <form method="POST" action="/delete_selected" onsubmit="return confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å?');">
        {% for group, files in grouped_files.items() %}
            <div class="group-header">{{ group }}</div>
            <table>
                <tr>
                    <th>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</th>
                    <th>‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</th>
                    <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                    <th>‡∏Ç‡∏ô‡∏≤‡∏î</th>
                    <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</th>
                </tr>
                {% for file in files %}
                <tr>
                    <td><input type="checkbox" name="delete_files" value="{{ file.name }}"></td>
                    <td><span class="file-icon">üìÑ</span>{{ file.name }}</td>
                    <td>{{ file.type }}</td>
                    <td>{{ file.size }}</td>
                    <td>{{ file.date }}</td>
                </tr>
                {% endfor %}
            </table>
        {% endfor %}
        <button type="submit" class="btn" style="background-color: darkred;">üóëÔ∏è ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
    </form>

    <hr>

    <!-- üì§ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà -->
    <form method="POST" action="/upload_file" enctype="multipart/form-data">
        <h3>üì§ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà</h3>
        <input type="file" name="newfile" multiple required>
        <button type="submit">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏•‡∏¢</button>
    </form>

    
<hr>
<h2>üßæ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° + ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</h2>

<form action="/ask_files" method="POST" enctype="multipart/form-data">
  <label for="question">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:</label><br>
  <textarea name="question" rows="3" cols="50" placeholder="‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏¢‡∏±‡∏á‡πÑ‡∏á..."></textarea><br><br>

  <label for="newfile">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå:</label><br>
  <input type="file" name="newfile" multiple><br><br>

  <button type="submit">üß† ‡∏ñ‡∏≤‡∏°‡πÄ‡∏•‡∏¢ + ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå</button>
</form>

</body>
</html>
