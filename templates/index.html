<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô ü§ñ</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
    <style>
      header {
        position: fixed;
        top: 0;
        width: 100%;
        background: white;
        padding: 1rem;
        border-bottom: 1px solid #ddd;
        z-index: 1000;
      }
      footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        background: white;
        padding: 1rem;
        border-top: 1px solid #ddd;
        z-index: 1000;
      }
      main {
        padding-top: 180px;
        padding-bottom: 160px;
      }
      .chat-block {
        border: none;
        padding: 4px;
        border-radius: 10px;
        margin-bottom: 10px;
        white-space: pre-wrap;
        font-size: 1rem;
      }
      .chat-entry {
        margin: 0;
        padding: 0;
        line-height: 1.2;       /* ‚úÖ ‡∏ä‡∏¥‡∏î‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ö 1px solid #ccc*/
        font-size: 1rem;
        white-space: pre-wrap;  /* ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ */
        word-break: break-word; /* ‚úÖ ‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏•‡πâ‡∏ô */
      }
      .timestamp {
        display: inline;
        font-size: 0.6rem;
        color: gray;
        margin: 0;
        padding: 0;
        line-height: 1.2;       /* ‚úÖ ‡∏ä‡∏¥‡∏î‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ö */
        white-space: pre-wrap;  /* ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ */
        word-break: break-word; /* ‚úÖ ‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏•‡πâ‡∏ô */
      }
    </style>
</head>
<body>
  <header>
    <h1>‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô ü§ñüê£</h1>

    {% if tone %}
    <div class="status-box">
        üïπÔ∏è ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î: <strong>{{ tone }}</strong>
    </div>
    {% endif %}

    {% if warning %}
    <div class="status-box warning">
        ‚ö†Ô∏è ‡∏û‡∏µ‡πà‡∏ñ‡∏≤‡∏°‡πÄ‡∏¢‡∏≠‡∏∞‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å {{ remaining }} ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ô‡∏µ‡πâ
    </div>
    {% elif remaining|string == '‚àû' %}
    <div class="status-box">
        üß™ ‡πÇ‡∏´‡∏°‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß: ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‚àû ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö)
    </div>
    {% elif remaining|int <= 2 %}
    <div class="status-box warning">
        ‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å {{ remaining }} ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö
    </div>
    {% endif %}

    <form method="POST" enctype="multipart/form-data">
        <input 
            id="question-input"
            type="text" 
            name="question" 
            placeholder="‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏à‡∏£‡πâ‡∏≤‡∏≤‡∏≤" 
            value="@3.5 " 
            autofocus 
            required 
            style="width: 100%; padding: 1rem; font-size: 1.2rem;"
        >
        <input type="file" name="file">
        <button type="submit">‡∏ñ‡∏≤‡∏°‡πÄ‡∏•‡∏¢</button>
    </form>
  </header>

  <main>
    {% if session.chat_log %}
      <div class="chat-block">
        {% for entry in session.chat_log|reverse %}
          <p class="timestamp">üïí ‡∏ñ‡∏≤‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠: {{ entry.ask_time }}</p>
          <p class="chat-entry">üßç‚Äç‚ôÇÔ∏è ‡∏û‡∏µ‡πà‡∏™‡∏≠‡∏á: {{ entry.question }}</p>
          {% if entry.file %}
          <p class="chat-entry">üìé ‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå: <a href="/uploads/{{ entry.file }}" target="_blank">{{ entry.file }}</a></p>
            {% endif %}
          <p class="timestamp">üïí ‡∏ï‡∏≠‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠: {{ entry.reply_time }}</p>
          <p class="chat-entry">ü§ñ ‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô {{ entry.model }}: {{ entry.answer }}</p>
        {% endfor %}
      </div>
    {% endif %}


  </main>

  <footer>
    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem; margin-top: 2rem;">
        <a href="/download_log/txt" class="btn">üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î .txt</a>
        <a href="/download_log/jsonl" class="btn">üßæ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î .jsonl</a>
    </div>
    <div style="font-size: 0.7rem; color: gray; margin-top: 2rem;">
        üí° <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•:</strong><br>
        &nbsp;&nbsp;&nbsp;‚Ä¢ ‡∏û‡∏¥‡∏°‡∏û‡πå <code>@3.5</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ GPT-3.5 (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î)<br>
        &nbsp;&nbsp;&nbsp;‚Ä¢ ‡∏û‡∏¥‡∏°‡∏û‡πå <code>@4o</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ GPT-4o<br>
        &nbsp;&nbsp;&nbsp;‚Ä¢ ‡πÑ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- GPT-4o: ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå", "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•", "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏∞‡πÑ‡∏£", "‡πÄ‡∏à‡∏ï‡∏ô‡∏≤", "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢", "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö", "‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á", "‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå", "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô", "‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô"<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- GPT-3.5: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏±‡πâ‡∏ô ‡πÜ
    </div>
    <div style="margin-top: 1rem;">
        <a href="/upload-panel" class="btn" style="background-color: green; padding: 0.6rem 1.2rem; border-radius: 6px; color: white; text-decoration: none;">üóÇÔ∏è ‡πÑ‡∏õ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</a>
        <form method="POST" action="/clear_chat" onsubmit="return confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?');" style="margin-top: 1rem;">
            <button type="submit" class="btn" style="background-color: orange;">üßπ ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤</button>
        </form>
    </div>
  </footer>

  <script>
    window.addEventListener('DOMContentLoaded', function() {
      const input = document.getElementById('question-input');
      if (input) {
        const val = input.value;
        input.focus();
        input.setSelectionRange(val.length, val.length);
      }
    });
  </script>
</body>
</html>
