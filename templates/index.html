<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô ü§ñ</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
    <style>
      header {
        position: fixed;
        top: 0;
        width: 100%;
        background: white;
        padding: 1rem;
        border-bottom: 1px solid #ddd;
        z-index: 1000;
      }
      footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        background: white;
        padding: 1rem;
        border-top: 1px solid #ddd;
        z-index: 1000;
      }
      main {
        padding-top: 180px;  /* ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á header */
        padding-bottom: 160px; /* ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á footer */
      }
      .chat-block {
        border: 1px solid #ccc;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 10px;
        white-space: pre-wrap;
      }
      .chat-entry {
        margin-bottom: 10px;
      }
    </style>
</head>
<body>
  <header>
    <h1>‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô ü§ñüê£</h1>

    {% if tone %}
    <div class="status-box">
        üïπÔ∏è ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î: <strong>{{ tone }}</strong>
    </div>
    {% endif %}

    {% if warning %}
    <div class="status-box warning">
        ‚ö†Ô∏è ‡∏û‡∏µ‡πà‡∏ñ‡∏≤‡∏°‡πÄ‡∏¢‡∏≠‡∏∞‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å {{ remaining }} ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ô‡∏µ‡πâ
    </div>
    {% elif remaining|string == '‚àû' %}
    <div class="status-box">
        üß™ ‡πÇ‡∏´‡∏°‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß: ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‚àû ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö)
    </div>
    {% elif remaining|int <= 2 %}
    <div class="status-box warning">
        ‚è≥ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å {{ remaining }} ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö
    </div>
    {% endif %}

    <form method="POST" enctype="multipart/form-data">
        <input 
            id="question-input"
            type="text" 
            name="question" 
            placeholder="‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏à‡∏£‡πâ‡∏≤‡∏≤‡∏≤" 
            value="@3.5 " 
            autofocus 
            required 
            style="width: 100%; padding: 1rem; font-size: 1.2rem;"
        >
        <input type="file" name="file">
        <button type="submit">‡∏ñ‡∏≤‡∏°‡πÄ‡∏•‡∏¢</button>
    </form>
  </header>

  <main>
    {% if session.chat_log %}
      <div class="chat-block">
        {% for entry in session.chat_log %}
          <div class="chat-entry">
            üßç‚Äç‚ôÇÔ∏è ‡∏û‡∏µ‡πà‡∏™‡∏≠‡∏á: {{ entry.question }}
          </div>
          <div class="chat-entry">
            ü§ñ ‡πÑ‡∏ß‡∏ö‡∏≠‡∏ô: {{ entry.answer }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    {% if response %}
    <div class="response-box">
        <p>{{ response.replace('\n', '<br>')|safe }}</p>
    </div>
    {% endif %}

    {% if response %}
    <div style="font-size: 0.7rem; color: gray; margin-top: 1rem;">
        üïí ‡∏ï‡∏≠‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠: {{ timestamp }}<br>
        üì∂ ‡πÇ‡∏´‡∏°‡∏î: {{ tone }}<br>
        ü§ñ ‡πÉ‡∏ä‡πâ‡πÇ‡∏°‡πÄ‡∏î‡∏•: {{ model_used }}<br>
    </div>
    {% endif %}

    <div style="font-size: 0.7rem; color: gray; margin-top: 2rem;">
        üí° <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•:</strong><br>
        &nbsp;&nbsp;&nbsp;‚Ä¢ ‡∏û‡∏¥‡∏°‡∏û‡πå <code>@3.5</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ GPT-3.5 (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î)<br>
        &nbsp;&nbsp;&nbsp;‚Ä¢ ‡∏û‡∏¥‡∏°‡∏û‡πå <code>@4o</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ GPT-4o<br>
        &nbsp;&nbsp;&nbsp;‚Ä¢ ‡πÑ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- GPT-4o: ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå", "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•", "‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏∞‡πÑ‡∏£", "‡πÄ‡∏à‡∏ï‡∏ô‡∏≤", "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢", "‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö", "‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á", "‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå", "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô", "‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô"<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- GPT-3.5: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏±‡πâ‡∏ô ‡πÜ
    </div>
  </main>

  <footer>
    <div style="margin-top: 2rem;">
        <a href="/download_log/txt" class="btn">üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î .txt</a>
        <a href="/download_log/jsonl" class="btn">üßæ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î .jsonl</a>
    </div>
    <div style="margin-top: 1rem;">
        <a href="/upload-panel" class="btn" style="background-color: green; padding: 0.6rem 1.2rem; border-radius: 6px; color: white; text-decoration: none;">üóÇÔ∏è ‡πÑ‡∏õ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î</a>
    </div>
  </footer>

  <script>
    window.addEventListener('DOMContentLoaded', function() {
      const input = document.getElementById('question-input');
      if (input) {
        const val = input.value;
        input.focus();
        input.setSelectionRange(val.length, val.length);  // ‡πÄ‡∏Ñ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏∏‡∏î
      }
    });
  </script>
</body>
</html>
